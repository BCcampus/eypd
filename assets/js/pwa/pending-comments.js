import{instance as globalRouter}from'./router.js';let commentPanel;async function updatePanel(){if(commentPanel||(commentPanel=document.querySelector('#pendingcomments'),commentPanel&&commentPanel.addEventListener('click',async(a)=>{'BUTTON'!==a.target.tagName||(await _bgSyncManager.trigger(),updatePanel())})),!!commentPanel){const a=(await _bgSyncManager.getAll()).filter((a)=>new URL(a.request.referrer).pathname===location.pathname).length;return 0>=a?void(commentPanel.innerHTML=''):void(commentPanel.innerHTML=`${a} comments are pending submission.`,commentPanel.innerHTML+=(await _bgSyncManager.isSyncing())?` Waiting...`:` Failed. <button>Try again</button>`)}}updatePanel(),_pubsubhub.subscribe('navigation',()=>{commentPanel=null,updatePanel()}),_pubsubhub.subscribe('comment_update',()=>updatePanel());