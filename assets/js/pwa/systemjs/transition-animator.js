System.register([],function(a){'use strict';return{setters:[],execute:function(){function b(a){return new Promise((b)=>{a.addEventListener('transitionend',function c(d){d.target!==a||(a.removeEventListener('transitionend',c),b())})})}function c(){return new Promise((a)=>requestAnimationFrame(a))}class d{static get TRANSITION_DURATION(){return'0.5s'}static get TRANSITION_F(){return'cubic-bezier(0.230, 1.000, 0.320, 1.000)'}constructor(){this._header=document.querySelector('header.hero'),this._footer=document.querySelector('footer.footer')}get isSingle(){return this._header.classList.contains('single')}get isFull(){return!this.isSingle}async toFull(){if(this.isFull)return()=>{};const a=this._header.querySelector('.ribbon'),e=this._header.querySelector('a'),f=this._header.getBoundingClientRect();this._header.classList.remove('single');const g=a.getBoundingClientRect();this._header.classList.add('single');const h=async function(){this._footer.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F}`,this._footer.style.transform='translateY(100%)'}.bind(this)(),i=async function(){e.style.opacity=1,await c(),await c(),e.style.transition=`opacity ${d.TRANSITION_DURATION} linear`,e.style.opacity=0,await b(e),e.style.transition=''}.bind(this)();return await Promise.all([h,i]),async function(){this._header.classList.remove('single');const h=async function(){this._header.style.transform=`translateY(calc(-100% + ${f.height}px))`,await c(),await c(),this._header.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F}`,this._header.style.transform='',await b(this._header)}.bind(this)(),i=async function(){e.style.opacity='',a.style.transform=`translateX(-${g.right+32}px)`,await c(),await c(),a.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F} 0.1s`,a.style.transform='',await b(a)}.bind(this)(),j=async function(){this._footer.style.transform='translateY(0)',await b(this._footer),this._footer.style.transition=this._footer.style.transform=''}.bind(this)();await Promise.all([h,i,j]),this._header.style.transition='',this._header.style.transform='',a.style.transition='',a.style.transform=''}.bind(this)}async toSingle(){if(this.isSingle)return()=>{};const a=document.scrollingElement.scrollTop,e=this._header.querySelector('.ribbon'),f=this._header.querySelector('a'),g=e.getBoundingClientRect();this._header.classList.add('single');const h=this._header.getBoundingClientRect();this._header.classList.remove('single'),document.scrollingElement.scrollTop=a;const i=0<g.bottom,j=0<h.bottom;if(async function(){this._footer.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F}`,this._footer.style.transform='translateY(100%)'}.bind(this)(),i){const a=async function(){e.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F}`,await c(),await c(),e.style.transform=`translateX(-${g.right+32}px)`,await b(e)}.bind(this)(),f=async function(){this._header.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F} 0.2s`,await c(),await c(),this._header.style.transform=`translateY(calc(-100% + ${h.height}px))`,await b(this._header)}.bind(this)();await Promise.all([a,f])}return e.style.transform=`translateX(-400%)`,j||(this._header.style.transition='',this._header.style.transform=`translateY(-100%)`,await c(),await c()),async function(){(async function(){this._footer.style.transform='translateY(0)',await b(this._footer),this._footer.style.transition=this._footer.style.transform=''}).bind(this)(),this._header.classList.add('single'),e.style.transform='',e.style.transition='',f.style.opacity=0,j||(document.scrollingElement.scrollTop=0,this._header.style.transition=`transform ${d.TRANSITION_DURATION} ${d.TRANSITION_F} 0.2s`,this._header.style.transform=`translateY(0)`,await b(this._header),this._header.style.transform=this._header.style.transition=''),await c(),await c(),f.style.transition=`opacity ${d.TRANSITION_DURATION} linear`,f.style.opacity=1,await b(f),f.style.transition='',f.style.opacity=''}.bind(this)}}const e=new d;a('default',e),a('TransitionAnimator',d)}}});